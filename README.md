# TestSalesApp
Для запуска образа БД:
docker pull postgres
docker-compose up

Задание:
### Рабочий процесс

заключается в *продаже хлебобулочных изделий* и подразумевает

- поступление булочек текущей датой и временем
- продажу булочек
- отчет по результату продаж

### Описание процессов

1. Поступление булочек *(muffin)* текущей датой и временем в количестве 10 шт. 
    
    производится перед запуском сервиса “**SalesApi**” путем добавление в таблицу БД соответственно 10 записей.
    
2. Продажа булочек осуществляется поштучно, не более 3-х в одни руки, и зависит от свежести изделия, булочки старше 3-х минут не продаются. Изделие отмечается в таблице статусом “продана” из возможных: поставлена (supplied),  продана, просрочена.
3. Отчетность отражает результаты продаж за последние сутки,
    
    агрегируя объем изделий в разрезе их статусов.
    

### Реализация

В рамках клиент-серверной архитектуры:

Серверным компонентом является  [ASP.NET](http://asp.net/) Core Web **API** сервиса с названием “**SalesApi**” на платформе **.NET Core 3.1 / .NET 6**.

Клиентское реализуется как консольное приложение с названием “**SalesApp**” на платформе **.NET Core 3.1 / .NET 6**.

**Cервис SalesApi** 

- Запускается на Kestrel, слушая  [https://localhost:7](https://localhost:7260/)324
- Обращается к БД на [Postgres в контейнере](https://hub.docker.com/_/postgres),
    
    используя ORM Entity Framework Core (свежий, соответствующий платформе) с провайдером под PostgreSQL.
    
- Добавить Basic авторизацию.
- Взаимодействие с сервисом  осуществляется через эндпоинт “api/muffin”
    
    с помощью запросов:
    
    POST “api/muffin” 
    
    GET “api/muffin/report” 
    

- Вся бизнес логика доступна по инжектируемому интерфейсу ISalesService,
    
    имплементация которого находится в классе SalesService.
    
- Каждое изменение сущности “булочка” фиксируется в логах на уровне Information и пишется в консоль *(пакет Serilog).*
- Каждый публичный метод класса SalesService тестируется с помощью юнит-тестов на xunit.
- Тест состоит из
    1. подготовки тестовых данных
    2. подготовки моков ([Moq](https://github.com/moq/moq4))
    3. запуска метода
    4. проверки результата ([fluentassertions](https://fluentassertions.com/tips/))

**Приложение SalesApp**

- После запуска запрашивает отчет и выводит результат на экран.
- Зациклено ожидает ввода пользователем кол-ва желаемых булочек.
- Обрабатывает ошибку при недостаточном кол-ве булочек.
- Для выхода из приложения необходимо отправить букву ‘q’.

### Задача

Задать уточняющие вопросы.

Реализовать описанное решение.

Опубликовать исходный код решения в репозитории на [github.com](http://github.com) / [gitlab.com](http://gitlab.com) 

Отправить ссылку для проверки результата.